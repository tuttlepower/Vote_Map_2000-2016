<html>

<head>
    <meta charset="utf-8" />
    <meta property="og:image" content="https://raw.githubusercontent.com/tuttlepower/VotingMap/master/VoteMap.PNG" />
    <link rel="icon"
        href="https://raw.githubusercontent.com/tuttlepower/tuttlepower/master/Resources/Images/facelighting.png"
        type="Head" sizes="16x16">

    <title>Rebuild </title>

    <!-- Load Leaflet from CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin="" />

    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
        integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
        crossorigin=""></script>

    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@2.3.0/dist/esri-leaflet.js"
        integrity="sha512-1tScwpjXwwnm6tTva0l0/ZgM3rYNbdyMj5q6RSQMbNX6EUMhYDE3pMRGZaT41zHEvLoWEK7qFEJmZDOoDMU7/Q=="
        crossorigin=""></script>
    <link rel="stylesheet" href="css/css.css">

</head>

<body>
    <div id="map"></div>
    <div id="links">
        <button onclick="myFunction()">2016</button>
    </div>
    <div id="info-pane" class="leaflet-bar">Hover to Inspect</div>
    <script type="text/javascript" src="data/reworked.js"></script>
    <script type="text/javascript" src="js/map.js"></script>

</body>
<script>
    function myFunction() {
        year = 2016;
        upperfence2016 = 66148;
        counties.setStyle(function (feature) {
            
        for (i in reworked) {
            if (feature.properties.GEOID == reworked[i].fips) {
                if (reworked[i].year == year) {
                    if (reworked[i].democrat > reworked[i].republican) {
                        return {
                            //Democrat - Blue - fillColor: 'hsl(250,100%,50%)'
                            fillColor: 'hsl(' + 240 + ',' + (reworked[i].percent) + '% ,' + 50 +
                                '%)',
                            color: 'hsl(' + 240 + ',' + (reworked[i].percent) + '% ,' + 50 + '%)',
                            fillOpacity: (reworked[i].votetotal / upperfence2000),
                        }
                    } else {
                        return {
                            // Republican - Red - fillColor: 'hsl(0,100%,50%)'
                            fillColor: 'hsl(' + 0 + ',' + (reworked[i].percent) + '% ,' + 50 +
                                '%)',
                            color: 'hsl(' + 0 + ',' + (reworked[i].percent) + '% ,' + 50 + '%)',
                            fillOpacity: (reworked[i].votetotal / upperfence2000),
                        }
                    }
                }
            }
        }
    }
        ).addTo(map);
    }
    </script>

</html>