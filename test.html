<html>
<head>
  <meta charset="utf-8" />
  <title>Leaflet Control.Layers</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />

  <!-- Load Leaflet from CDN -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
  integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
  integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
  crossorigin=""></script>


  <!-- Load Esri Leaflet from CDN -->
  <script src="https://unpkg.com/esri-leaflet@2.3.3/dist/esri-leaflet.js"
  integrity="sha512-cMQ5e58BDuu1pr9BQ/eGRn6HaR6Olh0ofcHFWe5XesdCITVuSBiBZZbhCijBe5ya238f/zMMRYIMIIg1jxv4sQ=="
  crossorigin=""></script>




  <style>
    body { margin:0; padding:0; }
    #map { position: absolute; top:0; bottom:0; right:0; left:0; }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  var gray = L.layerGroup();

  // more than one service can be grouped together and passed to the control together
  L.esri.basemapLayer('DarkGray').addTo(gray);
  L.esri.basemapLayer('GrayLabels').addTo(gray);

  var states = L.esri.featureLayer({
    url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer/3',
    style: function (feature) {
      return { color: '#bada55', weight: 2 };
    }
  });
  var counties = L.esri.featureLayer({
    url: 'https://tigerweb.geo.census.gov/arcgis/rest/services/TIGERweb/State_County/MapServer/1',
    style: function (feature) {
      return { color: '#bada55', weight: 2 };
    }
  });

  var map = L.map('map', {
    center: [39, -97.5],
    zoom: 4,
    layers: [gray, states]
  });

  var baseLayers = {
    Grayscale: gray,
    Streetmap: L.esri.basemapLayer('Streets'),
    
  };

  var overlays = {
    states: states,
    counties: counties
  };

  // https://leafletjs.com/reference.html#control-layers
  L.control.layers(baseLayers, overlays).addTo(map);
</script>

</body>
</html>